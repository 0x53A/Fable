!function(n,r){if("function"==typeof define&&define.amd)define(["exports"],r);else if("undefined"!=typeof exports)r(exports);else{var t={exports:{}};r(t.exports),n.unknown=t.exports}}(this,function(n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=n.Symbol={interfaces:Symbol("interfaces")},t=n.Choice=function(n,r){this.Case=n,this.Fields=[r]},e=n.Util={};e.setInterfaces=function(n,t){var e=n[r.interfaces];if(Array.isArray(e))for(var o=0;o<t.length;o++)e.push(t[o]);else n[r.interfaces]=t},e.hasInterface=function(n,t){return Array.isArray(n[r.interfaces])&&n[r.interfaces].indexOf(t)>=0},e.getRestParams=function(n,r){for(var t=n.length,e=Array(t>r?t-r:0),o=r;t>o;o++)e[o-r]=n[o];return e},e.compareTo=function(n,r){function t(n){return n instanceof Map||n instanceof Set?Array.from(n).sort():n}if(typeof n!=typeof r)return-1;if(null!=n&&null!=r&&"object"==typeof n&&"object"==typeof r){var o;if(Object.getPrototypeOf(n)!=Object.getPrototypeOf(r))return-1;if(n[Symbol.iterator]&&r[Symbol.iterator])return o=e.compareTo(l.length(n),l.length(r)),0!=o?o:l.fold2(function(n,r,t){return 0!=n?n:e.compareTo(r,t)},0,t(n),t(r));if(n instanceof Date&&r instanceof Date)return r>n?-1:n>r?1:0;var u=Object.getOwnPropertyNames(n),i=Object.getOwnPropertyNames(r);return o=e.compareTo(u.length,i.length),0!=o?o:l.fold2(function(t,o,u){return 0!=t?t:e.compareTo(n[o],r[u])},0,u.sort(),i.sort())}return r>n?-1:n>r?1:0},e.createObj=function(n){return l.fold(function(n,r){return n[r[0]]=r[1],n},{},n)};var o=n.TimeSpan={};o.create=o.fromTicks=function(){var n=0,r=0,t=0,e=0,o=0;switch(arguments.length){case 1:return arguments[0]/1e4;case 3:r=arguments[0],t=arguments[1],e=arguments[2];break;default:n=arguments[0],r=arguments[1],t=arguments[2],e=arguments[3],o=arguments[4]||0}return 864e5*n+36e5*r+6e4*t+1e3*e+o},o.fromDays=function(n){return o.create(n,0,0,0)},o.fromHours=function(n){return o.create(n,0,0)},o.fromMinutes=function(n){return o.create(0,n,0)},o.fromSeconds=function(n){return o.create(0,0,n)},o.days=function(n){return Math.floor(n/864e5)},o.hours=function(n){return Math.floor(n%864e5/36e5)},o.minutes=function(n){return Math.floor(n%36e5/6e4)},o.seconds=function(n){return Math.floor(n%6e4/1e3)},o.milliseconds=function(n){return Math.floor(n%1e3)},o.ticks=function(n){return 1e4*n},o.totalDays=function(n){return n/864e5},o.totalHours=function(n){return n/36e5},o.totalMinutes=function(n){return n/6e4},o.totalSeconds=function(n){return n/1e3},o.duration=Math.abs,o.negate=function(n){return-n},o.add=function(n,r){return n+r},o.subtract=function(n,r){return n-r},o.compareTo=o.compare=e.compareTo;var u=n.Date={};u.__changeKind=function(n,r){var t;return n.kind==r?n:(t=new Date(n.getTime()),t.kind=r,t)},u.__getValue=function(n,r){return 1==n.kind?n["getUTC"+r]():n["get"+r]()},u.minValue=function(){return u.parse(-864e13,1)},u.maxValue=function(){return u.parse(864e13,1)},u.parse=function(n,r){var t=null==n?new Date:new Date(n);if(isNaN(t.getTime()))throw"The string is not a valid Date.";return t.kind=r||2,t},u.create=function(n,r,t,e,o,u,i,a){e=e||0,o=o||0,u=u||0,i=i||0,a=a||2;var c=1===a?new Date(Date.UTC(n,r-1,t,e,o,u,i)):new Date(n,r-1,t,e,o,u,i);if(isNaN(c.getTime()))throw"The parameters describe an unrepresentable Date.";return c.kind=a,c},u.now=u.parse,u.utcNow=function(){return u.parse(null,1)},u.today=function(){return u.date(u.now())},u.isLeapYear=function(n){return n%4==0&&n%100!=0||n%400==0},u.daysInMonth=function(n,r){return 2==r?u.isLeapYear(n)?29:28:r>=8?r%2==0?31:30:r%2==0?30:31},u.toUniversalTime=function(n){return u.__changeKind(n,1)},u.toLocalTime=function(n){return u.__changeKind(n,2)},u.timeOfDay=function(n){return o.create(u.hour(n),u.minute(n),u.second(n))},u.date=function(n){return u.create(u.year(n),u.month(n),u.day(n),0,0,0,0,n.kind)},u.day=function(n){return u.__getValue(n,"Date")},u.hour=function(n){return u.__getValue(n,"Hours")},u.millisecond=function(n){return u.__getValue(n,"Milliseconds")},u.minute=function(n){return u.__getValue(n,"Minutes")},u.month=function(n){return u.__getValue(n,"Month")+1},u.second=function(n){return u.__getValue(n,"Seconds")},u.year=function(n){return u.__getValue(n,"FullYear")},u.ticks=u.toBinary=function(n){return 1e4*(n.getTime()+62135604e6)},u.dayOfWeek=function(n){return u.__getValue(n,"Day")},u.dayOfYear=function(n){for(var r=u.year(n),t=u.month(n),e=u.day(n),o=1;t>o;o++)e+=u.daysInMonth(r,o);return e},u.add=u.op_Addition=function(n,r){return u.parse(n.getTime()+r,n.kind)},u.addDays=function(n,r){return u.parse(n.getTime()+864e5*r,n.kind)},u.addHours=function(n,r){return u.parse(n.getTime()+36e5*r,n.kind)},u.addMinutes=function(n,r){return u.parse(n.getTime()+6e4*r,n.kind)},u.addSeconds=function(n,r){return u.parse(n.getTime()+1e3*r,n.kind)},u.addMilliseconds=function(n,r){return u.parse(n.getTime()+r,n.kind)},u.addTicks=function(n,r){return u.parse(n.getTime()+r/1e4,n.kind)},u.addYears=function(n,r){var t=u.month(n),e=u.year(n)+r,o=u.daysInMonth(e,t),i=Math.min(o,u.day(n));return u.create(e,t,i,u.hour(n),u.minute(n),u.second(n),u.millisecond(n),n.kind)},u.addMonths=function(n,r){var t=u.month(n)+r,e=0,o=0;t>12?(e=t%12,o=Math.floor(t/12),t=e):1>t&&(e=12+t%12,o=Math.floor(t/12)+(12==e?-1:0),t=e);var i=u.year(n)+o,a=u.daysInMonth(i,t),c=Math.min(a,u.day(n));return u.create(i,t,c,u.hour(n),u.minute(n),u.second(n),u.millisecond(n),n.kind)},u.subtract=u.op_Subtraction=function(n,r){return"number"==typeof r?u.parse(n.getTime()-r,n.kind):n.getTime()-r.getTime()},u.toLongDateString=function(n){return n.toDateString()},u.toShortDateString=function(n){return n.toLocaleDateString()},u.toLongTimeString=function(n){return n.toLocaleTimeString()},u.toShortTimeString=function(n){return n.toLocaleTimeString().replace(/:\d\d(?!:)/,"")},u.equals=function(n,r){return n.getTime()==r.getTime()},u.compareTo=u.compare=e.compareTo;var i=n.String={};i.fsFormatRegExp=/%([0+ ]*)(-?\d+)?(?:\.(\d+))?(\w)/,i.fsFormat=function(n){function r(n){return!(null===n||"object"!=typeof n||n instanceof Number||n instanceof String||n instanceof Boolean)}function t(n,t){return n.replace(i.fsFormatRegExp,function(n,e,o,u,a){switch(a){case"f":case"F":t=t.toFixed(u||6);break;case"g":case"G":t=t.toPrecision(u);break;case"e":case"E":t=t.toExponential(u);break;case"A":t=(t instanceof Map?"map ":t instanceof Set?"set ":"")+JSON.stringify(t,function(n,t){return t&&t[Symbol.iterator]&&!Array.isArray(t)&&r(t)?Array.from(t):t})}var c=e.indexOf("+")>=0&&parseInt(t)>=0;if(!isNaN(o=parseInt(o))){var f=o>=0&&e.indexOf("0")>=0?"0":" ";t=i.padLeft(t,Math.abs(o)-(c?1:0),f,0>o)}return c?"+"+t:t})}function e(n){return function(r){var u=t(n,r);return i.fsFormatRegExp.test(u)?e(u):o(u)}}var o;return function(r){return o=r,i.fsFormatRegExp.test(n)?e(n):o(n)}},i.formatRegExp=/\{(\d+)(,-?\d+)?(?:\:(.+?))?\}/g,i.format=function(n,r){return r=e.getRestParams(arguments,1),n.replace(i.formatRegExp,function(n,t,e,o){var a=r[t];if("number"==typeof a)switch((o||"").substring(0,1)){case"f":case"F":a=o.length>1?a.toFixed(o.substring(1)):a.toFixed(2);break;case"g":case"G":a=o.length>1?a.toPrecision(o.substring(1)):a.toPrecision();break;case"e":case"E":a=o.length>1?a.toExponential(o.substring(1)):a.toExponential();break;case"p":case"P":a=(o.length>1?(100*a).toFixed(o.substring(1)):(100*a).toFixed(2))+" %"}else if(a instanceof Date){if(1===o.length)switch(o){case"D":a=a.toDateString();break;case"T":a=a.toLocaleTimeString();break;case"d":a=a.toLocaleDateString();break;case"t":a=a.toLocaleTimeString().replace(/:\d\d(?!:)/,"")}a=o.replace(/\w+/g,function(n){var r=n;switch(n.substring(0,1)){case"y":r=n.length<4?u.year(a)%100:u.year(a);break;case"h":r=a.getHours()>12?u.hour(a)%12:u.hour(a);break;case"M":r=u.month(a);break;case"d":r=u.day(a);break;case"H":r=u.hour(a);break;case"m":r=u.minute(a);break;case"s":r=u.second(a)}return r!==n&&10>r&&n.length>1&&(r="0"+r),r})}return isNaN(e=parseInt((e||"").substring(1)))||(a=i.padLeft(a,Math.abs(e)," ",0>e)),a})},i.init=function(n,r){if(0>n)throw"String length must be non-negative";for(var t=new Array(n),e=0;n>e;e++)t[e]=r(e);return t.join("")},i.isNullOrEmpty=function(n){return"string"!=typeof n||0==n.length},i.isNullOrWhiteSpace=function(n){return"string"!=typeof n||/^\s*$/.test(n)},i.padLeft=function(n,r,t,e){var o=-1;for(t=t||" ",n=String(n),r-=n.length;++o<r;)n=e?n+t:t+n;return n},i.padRight=function(n,r,t){return i.padLeft(n,r,t,!0)},i.replace=function(n,r,t){return n.replace(new RegExp(a.escape(r),"g"),t)},i.replicate=function(n,r){return i.init(n,function(){return r})},i.split=function(n,r,t){r=Array.isArray(r)?r:e.getRestParams(arguments,1);var o=new RegExp("["+a.escape(r.join(""))+"]","g"),u=n.split(o);return t?u.filter(function(n){return n.length>0}):u},i.join=i.concat=function(n,r){return r="string"==typeof r?e.getRestParams(arguments,1):r,(Array.isArray(r)?r:Array.from(r)).join(n)},i.endsWith=function(n,r){var t=n.lastIndexOf(r);return t>=0&&t==n.length-r.length};var a=n.RegExp={};a.create=function(n,r){var t="g";return t+=1&r?"i":"",t+=2&r?"m":"",new RegExp(n,t)},a.escape=function(n){return n.replace(/[\-\[\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},a.unescape=function(n){return n.replace(/\\([\-\[\/\{\}\(\)\*\+\?\.\\\^\$\|])/g,"$1")},a.isMatch=function(n,r,t){var e=n instanceof RegExp?(e=n,n=r,e.lastIndex=null!=t?t:0,e):e=a.create(r,t);return e.test(n)},a.match=function(n,r,t){var e=n instanceof RegExp?(e=n,n=r,e.lastIndex=null!=t?t:0,e):e=a.create(r,t);return e.exec(n)},a.matches=function(n,r,t){var e=n instanceof RegExp?(e=n,n=r,e.lastIndex=null!=t?t:0,e):e=a.create(r,t);if(!e.global)throw"Non-global RegExp";for(var o,u=[];null!==(o=e.exec(n));)u.push(o);return u},a.options=function(n){var r=256;return r|=n.ignoreCase?1:0,r|=n.multiline?2:0},a.replace=function(n,r,t,e,o){if("string"==typeof n){var u=n;n=a.create(r,e),r=u,e=void 0}if("function"==typeof t){e=null==e?-1:e,o=null==o?0:o;var i=function(){var n=arguments[0];if(0!==e){e--;for(var r=[],o=arguments.length,u=0;o-2>u;u++)r.push(arguments[u]);r.index=arguments[o-2],r.input=arguments[o-1],n=t(r)}return n};return r.substring(0,o)+r.substring(o).replace(n,i)}if(null!=e){var c;o=null==o?0:o;var f=r.substring(o),l=a.matches(n,f),s=l.length>e?(c=l[e-1],f.substring(0,c.index+c[0].length)):f;return r.substring(0,o)+s.replace(n,t)+r.substring(o+s.length)}return r.replace(n,t)},a.split=function(n,r,t,e){if("string"==typeof n){var o=n;n=a.create(r,t),r=o,t=void 0}return r=null!=e?r.substring(e):r,r.split(n,t)};var c=n.Array={};c.addRangeInPlace=function(n,r){l.iter(function(n){r.push(n)},n)},c.blit=function(n,r,t,e,o){for(;o--;)t[e++]=n[r++]},c.partition=function(n,r){for(var t=[],e=[],o=0,u=0,i=0;i<r.length;i++)n(r[i])?t[o++]=r[i]:e[u++]=r[i];return[t,e]},c.permute=function(n,r){for(var t=r.map(function(){return 0}),e=new Array(r.length),o=0;o<r.length;o++){var u=n(o);if(0>u||u>=r.length)throw"Not a valid permutation";t[u]=r[o],e[u]=1}for(o=0;o<r.length;o++)if(1!=e[o])throw"Not a valid permutation";return t},c.removeInPlace=function(n,r){var t=r.indexOf(n);return t>-1?(r.splice(t,1),!0):!1},c.setSlice=function(n,r,t,e){var o=(t||n.length-1)-r;if(ArrayBuffer.isView(n)&&e.length<=o)n.set(e,r);else for(var u=0|r,i=0;o>=i;u++,i++)n[u]=e[i]},c.sortInPlaceBy=function(n,r,t){return t=t||1,r.sort(function(r,e){return r=n(r),e=n(e),(e>r?-1:r==e?0:1)*t})},c.unzip=function(n){for(var r=new Array(n.length),t=new Array(n.length),e=0;e<n.length;e++)r[e]=n[e][0],t[e]=n[e][1];return[r,t]},c.unzip3=function(n){for(var r=new Array(n.length),t=new Array(n.length),e=new Array(n.length),o=0;o<n.length;o++)r[o]=n[o][0],t[o]=n[o][1],e[o]=n[o][2];return[r,t,e]};var f=n.List=function(n,r){this.head=n,this.tail=r};f.ofArray=function(n,r){for(var t=n.length-1,e=r||new f;t>=0;t--)e=new f(n[t],e);return e},Object.defineProperty(f.prototype,"length",{get:function(){return l.fold(function(n,r){return n+1},0,this)}}),f.prototype[Symbol.iterator]=function(){var n=this;return{next:function(){var r=n;return n=n.tail,{done:null==r.tail,value:r.head}}}},f.append=f.prototype.append=function(n,r){return null==r&&(r=n,n=this),l.fold(function(n,r){return new f(r,n)},r,f.rev(n))},f.choose=f.prototype.choose=function(n,r){return f.rev(l.fold(function(r,t){var e=n(t);return null!=e?new f(e,r):r},new f,r||this))},f.collect=f.prototype.collect=function(n,r){return l.fold(function(r,t){return n(t).append(r)},new f,f.rev(r||this))},f.concat=f.prototype.concat=function(n){return f.collect(function(n){return n},n||this)},f.filter=f.prototype.filter=f.where=f.prototype.where=function(n,r){return f.rev(l.fold(function(r,t){return n(t)?new f(t,r):r},new f,r||this))},f.init=function(n,r){if(0>n)throw"List length must be non-negative";for(var t=new f,e=1;n>=e;e++)t=new f(r(n-e),t);return t},f.map=f.prototype.map=function(n,r){return f.rev(l.fold(function(r,t){return new f(n(t),r)},new f,r||this))},f.mapi=f.prototype.mapi=function(n,r){return f.rev(l.fold(function(r,t,e){return new f(n(e,t),r)},new f,r||this))},f.partition=f.prototype.partition=function(n,r){return l.fold(function(r,t){var e=r[0],o=r[1];return n(t)?[new f(t,e),o]:[e,new f(t,o)]},[new f,new f],r||this)},f.replicate=function(n,r){return f.init(n,function(){return r})},f.rev=f.prototype.rev=function(n){return l.fold(function(n,r){return new f(r,n)},new f,n||this)},f.singleton=function(n){return new f(n,new f)},f.slice=f.prototype.slice=function(n,r,t){var e=null==n,o=null==r;return f.rev(l.fold(function(t,u,i){var a=(e||i>=n)&&(o||r>=i);return a?new f(u,t):t},new f,t||this))},f.unzip=f.prototype.unzip=function(n){return l.foldBack(function(n,r){return[new f(n[0],r[0]),new f(n[1],r[1])]},n||this,[new f,new f])},f.unzip3=f.prototype.unzip3=function(n){return l.foldBack(function(n,r){return[new f(n[0],r[0]),new f(n[1],r[1]),new f(n[2],r[2])]},n||this,[new f,new f,new f])};var l=n.Seq={};l.toList=function(n){return l.foldBack(function(n,r){return new f(n,r)},n,new f)},l.ofList=function(n){return l.delay(function(){return l.unfold(function(n){return null!=n.tail?[n.head,n.tail]:null},n)})},l.ofArray=function(n){return l.delay(function(){return l.unfold(function(r){return r<n.length?[n[r],r+1]:null},0)})},l.append=function(n,r){return l.delay(function(){var t=!1,e=[n[Symbol.iterator](),r];return l.unfold(function(){var n;if(!t){if(n=e[0].next(),!n.done)return[n.value,e];t=!0,e=[null,e[1][Symbol.iterator]()]}return n=e[1].next(),n.done?null:[n.value,e]},e)})},l.average=function(n){var r=1,t=l.reduce(function(n,t){return r++,n+t},n);return t/r},l.averageBy=function(n,r){var t=1,e=l.reduce(function(r,e){return t++,(2===t?n(r):r)+n(e)},r);return e/t},l.countBy=function(n,r){return l.map(function(n){return[n[0],l.length(n[1])]},l.groupBy(n,r))},l.concat=function(n){return l.delay(function(){var r=n[Symbol.iterator]();return l.unfold(function(n){for(var t,e=null,o=!1;!o;)null==n?(t=r.next(),t.done?o=!0:n=t.value[Symbol.iterator]()):(t=n.next(),t.done?n=null:(e=t.value,o=!0));return null!=n&&null!=e?[e,n]:null},null)})},l.collect=function(n,r){return l.concat(l.map(n,r))},l.choose=function(n,r){var t=function(r){var e=r.next();if(!e.done){var o=n(e.value);return null!=o?[o,r]:t(r)}};return l.delay(function(){return l.unfold(function(n){return t(n)},r[Symbol.iterator]())})},l.compareWith=function(n,r,t){var e=l.tryFind(function(n){return 0!=n},l.map2(function(r,t){return n(r,t)},r,t));return null!=e?e:l.length(r)-l.length(t)},l.delay=function(n){var r={};return r[Symbol.iterator]=function(){return n()[Symbol.iterator]()},r},l.distinctBy=function(n,r){return l.choose(function(n){return n[0]},l.scan(function(r,t){var e=r[1],o=n(t);return e.has(o)?[null,e]:[t,e.add(o)]},[null,new Set],r))},l.distinct=function(n){return l.distinctBy(function(n){return n},n)},l.empty=function(){return l.unfold(function(){})},l.enumerateWhile=function(n,r){return l.concat(l.unfold(function(){return n()?[r,!0]:null}),!0)},l.enumerateThenFinally=function(n,r){return l.delay(function(){var t;try{t=n[Symbol.iterator]()}finally{r()}return l.unfold(function(n){try{var t=n.next();return t.done?null:[t.value,n]}finally{r()}},t)})},l.enumerateUsing=function(n,r){var t=!1,e=function(){t||(t=!0,n.dispose())};try{return l.enumerateThenFinally(r(n),e)}finally{e()}},l.exactlyOne=function(n){var r=n[Symbol.iterator](),t=r.next();if(t.done)throw"Seq was empty";var e=r.next();if(!e.done)throw"Seq had multiple items";return t.value},l.exists=function(n,r){var t=function(r){var e=r.next();return!e.done&&(n(e.value)||t(r))};return t(r[Symbol.iterator]())},l.exists2=function(n,r,t){var e=function(r,t){var o=r.next(),u=t.next();return!o.done&&!u.done&&(n(o.value,u.value)||e(r,t))};return e(r[Symbol.iterator](),t[Symbol.iterator]())},l.filter=l.where=function(n,r){var t=function(r){var e=r.next();return e.done?void 0:n(e.value)?[e.value,r]:t(r)};return l.delay(function(){return l.unfold(t,r[Symbol.iterator]())})},l.fold=function(n,r,t){if(Array.isArray(t)||ArrayBuffer.isView(t))return t.reduce(n,r);for(var e=0,o=null,u=t[Symbol.iterator]();o=u.next(),!o.done;e++)r=n(r,o.value,e);return r},l.foldBack=function(n,r,t){for(var e=Array.isArray(r)||ArrayBuffer.isView(r)?r:Array.from(r),o=e.length-1;o>=0;o--)t=n(e[o],t,o);return t},l.fold2=function(n,r,t,e){for(var o,u,i=t[Symbol.iterator](),a=e[Symbol.iterator](),c=0;o=i.next(),u=a.next(),!o.done&&!u.done;c++)r=n(r,o.value,u.value,c);return r},l.foldBack2=function(n,r,t,e){for(var o=Array.isArray(r)||ArrayBuffer.isView(r)?r:Array.from(r),u=Array.isArray(t)||ArrayBuffer.isView(t)?t:Array.from(t),i=o.length-1;i>=0;i--)e=n(o[i],u[i],e,i);return e},l.forall=function(n,r){return l.fold(function(r,t){return r&&n(t)},!0,r)},l.forall2=function(n,r,t){return l.fold2(function(r,t,e){return r&&n(t,e)},!0,r,t)},l.groupBy=function(n,r){return l.fold(function(r,t){var e=n(t),o=r.get(e);return null!=o?r.set(e,new f(t,o)):r.set(e,new f(t,new f))},new Map,r)},l.head=function(n){var r=n[Symbol.iterator](),t=r.next();if(t.done)throw"Seq was empty";return t.value},l.init=function(n,r){return l.delay(function(){return l.unfold(function(t){return n>t?[r(t),t+1]:null},0)})},l.initInfinite=function(n){return l.delay(function(){return l.unfold(function(r){return[n(r),r+1]},0)})},l.item=function(n,r){if(Array.isArray(r)||ArrayBuffer.isView(r))return r[n];for(var t=0,e=r[Symbol.iterator]();;t++){var o=e.next();if(o.done)break;if(t===n)return o.value}throw"Seq has an insufficient number of elements"},l.iter=function(n,r){l.fold(function(r,t){n(t)},null,r)},l.iter2=function(n,r,t){l.fold2(function(r,t,e){n(t,e)},null,r,t)},l.iteri=function(n,r){l.fold(function(r,t,e){n(e,t)},null,r)},l.iteri2=function(n,r,t){l.fold2(function(r,t,e,o){n(o,t,e)},null,r,t)},l.isEmpty=function(n){var r=n[Symbol.iterator]();return r.next().done},l.last=function(n){return l.reduce(function(n,r){return r},n)},l.length=function(n){return Array.isArray(n)||ArrayBuffer.isView(n)?n.length:l.fold(function(n,r){return n+1},0,n)},l.map=function(n,r){return l.delay(function(){return l.unfold(function(r){var t=r.next();return t.done?null:[n(t.value),r]},r[Symbol.iterator]())})},l.mapi=function(n,r){return l.delay(function(){var t=0;return l.unfold(function(r){var e=r.next();return e.done?null:[n(t++,e.value),r]},r[Symbol.iterator]())})},l.map2=function(n,r,t){return l.delay(function(){var e=r[Symbol.iterator](),o=t[Symbol.iterator]();return l.unfold(function(){var r=e.next(),t=o.next();return r.done||t.done?null:[n(r.value,t.value),null]})})},l.mapi2=function(n,r,t){return l.delay(function(){var e=0,o=r[Symbol.iterator](),u=t[Symbol.iterator]();return l.unfold(function(){var r=o.next(),t=u.next();return r.done||t.done?null:[n(e++,r.value,t.value),null]})})},l.map3=function(n,r,t,e){return l.delay(function(){var o=r[Symbol.iterator](),u=t[Symbol.iterator](),i=e[Symbol.iterator]();return l.unfold(function(){var r=o.next(),t=u.next(),e=i.next();return r.done||t.done||e.done?null:[n(r.value,t.value,e.value),null]})})},l.max=function(n){return l.reduce(function(n,r){return Math.max(n,r)},n)},l.maxBy=function(n,r){return l.reduce(function(r,t){return n(t)>n(r)?t:r},r)},l.min=function(n){return l.reduce(function(n,r){return Math.min(n,r)},n)},l.minBy=function(n,r){return l.reduce(function(r,t){return n(t)>n(r)?r:t},r)},l.pairwise=function(n){return l.skip(1,l.scan(function(n,r){return[n[1],r]},[0,0],n))},l.permute=function(n,r){var t=Array.from(r);return l.ofArray(c.permute(n,t))},l.rangeStep=function(n,r,t){if(0===r)throw"Step cannot be 0";return l.unfold(function(n){return r>0&&t>=n||0>r&&n>=t?[n,n+r]:null},n)},l.rangeChar=function(n,r){return l.unfold(function(n){return r>=n?[n,String.fromCharCode(n.charCodeAt(0)+1)]:null},n)},l.range=function(n,r){return l.rangeStep(n,1,r)},l.readonly=function(n){return l.map(function(n){return n},n)},l.reduce=function(n,r){if(Array.isArray(r)||ArrayBuffer.isView(r))return r.reduce(n);var t=r[Symbol.iterator](),e=t.next();if(e.done)throw"Seq was empty";for(var o=e.value;e=t.next(),!e.done;)o=n(o,e.value);return o},l.reduceBack=function(n,r){var t=Array.isArray(r)||ArrayBuffer.isView(r)?r:Array.from(r);if(0===t.length)throw"Seq was empty";for(var e=t[t.length-1],o=t.length-2;o>=0;o--)e=n(t[o],e,o);return e},l.replicate=function(n,r){return l.init(n,function(){return r})},l.rev=function(n){var r=Array.isArray(n)||ArrayBuffer.isView(n)?n.slice(0):Array.from(n);return r.reverse()},l.scan=function(n,r,t){return l.delay(function(){var e=t[Symbol.iterator]();return l.unfold(function(t){if(null==t)return[r,r];var o=e.next();return o.done?void 0:(t=n(t,o.value),[t,t])},null)})},l.scanBack=function(n,r,t){return l.rev(l.scan(function(r,t){return n(t,r)},t,l.rev(r)))},l.singleton=function(n){return l.unfold(function(n){return null!=n?[n,null]:null},n)},l.skip=function(n,r){var t={};return t[Symbol.iterator]=function(){for(var t=r[Symbol.iterator](),e=1;n>=e;e++)t.next();return t},t},l.skipWhile=function(n,r){return l.delay(function(){var t=!1;return l.filter(function(r){return t||(t=!n(r))},r)})},l.sort=function(n){var r=Array.from(n);return l.ofArray(r.sort())},l.sortWith=function(n,r){var t=Array.from(r);return l.ofArray(t.sort(n))},l.sortBy=function(n,r){var t=Array.from(r);return l.ofArray(c.sortInPlaceBy(n,t))},l.sortDescending=function(n,r){var t=Array.from(r);return l.ofArray(t.sort(function(n,r){return n>r?-1:n==r?0:1}))},l.sortByDescending=function(n,r){var t=Array.from(r);return l.ofArray(c.sortInPlaceBy(n,t,-1))},l.sum=function(n,r){return r=r||function(n,r){return n+r},l.reduce(function(n,t){return r(n,t)},n)},l.sumBy=function(n,r,t){var e=!0;return t=t||function(n,r){return n+r},l.reduce(function(r,t){return r=e?n(r):r,e=!1,r+n(t)},r)},l.tail=function(n){var r=n[Symbol.iterator](),t=r.next();if(t.done)throw"Seq was empty";var e={};return e[Symbol.iterator]=function(){return r},e},l.take=function(n,r,t){return l.delay(function(){var e=r[Symbol.iterator]();return l.unfold(function(r){if(n>r){var o=e.next();if(!o.done)return[o.value,r+1];if(!t)throw"Seq has not enough elements"}},0)})},l.truncate=function(n,r){return l.take(n,r,!0)},l.takeWhile=function(n,r){return l.delay(function(){var t=r[Symbol.iterator]();return l.unfold(function(r){var e=t.next();return!e.done&&n(e.value)?[e.value,null]:void 0},0)})},l.tryFind=function(n,r){for(var t,e=0,o=r[Symbol.iterator]();t=o.next(),!t.done;e++)if(n(t.value,e))return t.value},l.find=function(n,r){var t=l.tryFind(n,r);if(null==t)throw"Seq did not contain any matching elements";return t},l.tryFindIndex=function(n,r){for(var t,e=0,o=r[Symbol.iterator]();t=o.next(),!t.done;e++)if(n(t.value,e))return e},l.findIndex=function(n,r){var t=l.tryFindIndex(n,r);if(null==t)throw"Seq did not contain any matching elements";return t},l.tryPick=function(n,r){for(var t,e=0,o=r[Symbol.iterator]();t=o.next(),!t.done;e++){var u=n(t.value,e);if(null!=u)return u}},l.pick=function(n,r){var t=l.tryPick(n,r);if(null==t)throw"Seq did not contain any matching elements";return t},l.unfold=function(n,r){var t={};return t[Symbol.iterator]=function(){return{next:function(){var t=n(r);return null!=t?(r=t[1],{done:!1,value:t[0]}):{done:!0}}}},t},l.zip=function(n,r){return l.map2(function(n,r){return[n,r]},n,r)},l.zip3=function(n,r,t){return l.map3(function(n,r,t){return[n,r,t]},n,r,t)};var s=n.Set={};s.ofArray=function(n){for(var r=new Set,t=0;t<n.length;t++)r.add(n[t]);return r},s.ofSeq=function(n){return l.fold(function(n,r){return n.add(r)},new Set,n)},s.op_Addition=s.union=function(n,r){var t=new Set(n);return r.forEach(function(n){t.add(n)}),t},s.unionMany=function(n){return l.fold(function(n,r){return r.forEach(function(r){n.add(r)}),n},new Set,n)},s.op_Subtraction=s.difference=function(n,r){var t=new Set(n);return r.forEach(function(n){t["delete"](n)}),t},s.intersect=function(n,r){var t=new Set(n);return n.forEach(function(n){r.has(n)||t["delete"](n)}),t},s.intersectMany=function(n){var r=Array.isArray(n)?n:Array.from(n);if(0==r.length)throw"Seq was empty";var t=new Set(r[0]);return l.iter(function(n){for(var e=1;e<r.length;e++)if(!r[e].has(n)){t["delete"](n);break}},r[0]),t},s.isProperSubsetOf=s.isProperSubset=function(n,r){return l.forall(function(n){return r.has(n)},n)&&l.exists(function(r){return!n.has(r)},r)},s.isSubsetOf=s.isSubset=function(n,r){return l.forall(function(n){return r.has(n)},n)},s.isProperSupersetOf=s.isProperSuperset=function(n,r){return s.isProperSubset(r,n)},s.isSupersetOf=s.isSuperset=function(n,r){return s.isSubset(r,n)},s.copyTo=function(n,r,t,e){if(!r instanceof Array)throw"Array is invalid";e=e||r.length;for(var o=t||0,u=n[Symbol.iterator]();e--;){var i=u.next();if(i.done)break;r[o++]=i.value}},s.partition=function(n,r){return l.fold(function(r,t){var e=r[0],o=r[1];return n(t)?[e.add(t),o]:[e,o.add(t)]},[new Set,new Set],r)},s.removeInPlace=function(n,r){return r["delete"](n),r},s.remove=function(n,r){return s.removeInPlace(n,new Set(r))};var d=n.Map={};d.ofArray=function(n){for(var r=new Map,t=0;t<n.length;t++)r.set(n[t][0],n[t][1]);return r},d.ofSeq=function(n){return l.fold(function(n,r){return n.set(r[0],r[1])},new Map,n)},d.containsValue=function(n,r){return l.fold(function(t,e){return t||r.get(e)===n},!1,r.keys())},d.exists=function(n,r){return l.exists(function(r){return n(r[0],r[1])},r)},d.filter=function(n,r){return l.fold(function(r,t){return n(t[0],t[1])?r.set(t[0],t[1]):r},new Map,r)},d.fold=function(n,r,t){return l.fold(function(r,t){return n(r,t[0],t[1])},r,t)},d.foldBack=function(n,r,t){return l.foldBack(function(r,t){return n(r[0],r[1],t)},r,t)},d.forall=function(n,r){return l.forall(function(r){return n(r[0],r[1])},r)},d.iter=function(n,r){return l.iter(function(r){n(r[0],r[1])},r)},d.map=function(n,r){return l.fold(function(r,t){return r.set(t[0],n(t[0],t[1]))},new Map,r)},d.partition=function(n,r){return l.fold(function(r,t){var e=r[0],o=r[1],u=t[0],i=t[1];return n(u,i)?[e.set(u,i),o]:[e,o.set(u,i)]},[new Map,new Map],r)},d.findKey=function(n,r){return l.pick(function(r){return n(r[0],r[1])?r[0]:null},r)},d.tryFindKey=function(n,r){return l.tryPick(function(r){return n(r[0],r[1])?r[0]:null},r)},d.pick=function(n,r){return l.pick(function(r){var t=n(r[0],r[1]);return null!=t?t:null},r)},d.removeInPlace=s.removeInPlace,d.remove=function(n,r){return d.removeInPlace(n,new Map(r))},d.tryPick=function(n,r){return l.tryPick(function(r){var t=n(r[0],r[1]);return null!=t?t:null},r)};var p=n.Async={};p.__protectedCont=function(n){return function(r){if(r.cancelToken.isCancelled)r.onCancel("cancelled");else try{n(r)}catch(t){r.onError(t)}}},p.bind=function(n,r){return p.__protectedCont(function(t){n({onSuccess:function(n){return r(n)(t)},onError:t.onError,onCancel:t.onCancel,cancelToken:t.cancelToken})})},p.combine=function(n,r){return p.bind(n,function(){return r})},p.delay=function(n){return p.__protectedCont(function(r){n()(r)})},p["for"]=function(n,r){var t=n[Symbol.iterator](),e=t.next();return p["while"](function(){return!e.done},p.delay(function(){var n=r(e.value);return e=t.next(),n}))},p["return"]=function(n){return p.__protectedCont(function(r){r.onSuccess(n)})},p.returnFrom=function(n){return n},p.tryFinally=function(n,r){return p.__protectedCont(function(t){n({onSuccess:function(n){r(),t.onSuccess(n)},onError:function(n){r(),t.onError(n)},onCancel:function(n){r(),t.onCancel(n)},cancelToken:t.cancelToken})})},p.tryWith=function(n,r){return p.__protectedCont(function(t){n({onSuccess:t.onSuccess,onCancel:t.onCancel,cancelToken:t.cancelToken,onError:function(n){t.onSuccess(r(n))}})})},p.using=function(n,r){return p.tryFinally(r(n),function(){n.dispose()})},p["while"]=function(n,r){return n()?p.bind(r,function(){return p["while"](n,r)}):p["return"]()},p.zero=function(){return p.__protectedCont(function(n){n.onSuccess()})},p.start=p.startImmediate=p.startWithContinuations=function(n,r,t,e,o){"function"!=typeof r&&(o=r,r=null),n({onSuccess:r?r:function(){},onError:t?t:function(){},onCancel:e?e:function(){},cancelToken:o?o:{}})},p.ignore=function(n){return p.bind(n,function(){return p["return"]()})},Object.defineProperty(p,"cancellationToken",{get:function(){return p.__protectedCont(function(n){return n.onSuccess(n.cancelToken)})}}),p.fromContinuations=function(n){return p.__protectedCont(function(r){return n([r.onSuccess,r.onError,r.onCancel])})},p.startAsPromise=function(n,r){return new Promise(function(t,e){p.startWithContinuations(n,t,e,e,r?r:{})})},p.awaitPromise=function(n){return p.fromContinuations(function(r){n.then(r[0])["catch"](function(n){("cancelled"==n?r[2]:r[1])(n)})})},p.parallel=function(n){return p.awaitPromise(Promise.all(l.map(function(n){return p.startAsPromise(n)},n)))},p["catch"]=function(n){return p.__protectedCont(function(r){n({onSuccess:function(n){r.onSuccess(new t("Choice1Of2",n))},onError:function(n){r.onSuccess(new t("Choice2Of2",n))},onCancel:r.onCancel,cancelToken:r.cancelToken})})},p.sleep=function(n){return p.__protectedCont(function(r){setTimeout(function(){r.cancelToken.isCancelled?r.onCancel("cancelled"):r.onSuccess()},n)})};var y=function(n,r,t){this.onNext=n,this.onError=r||function(n){},this.onCompleted=t||function(){}};e.setInterfaces(y.prototype,["System.IObserver"]);var m=function(n){this.subscribe=n};e.setInterfaces(m.prototype,["System.IObservable"]);var v=n.Observable={};v.__protect=function(n,r,t){try{r(n())}catch(e){t(e)}},v.map=function(n,r){return new m(function(t){return r.subscribe(new y(function(r){v.__protect(function(){n(r)},t.onNext,t.onError)},t.onError,t.onCompleted))})},v.choose=function(n,r){return new m(function(t){return r.subscribe(new y(function(r){v.__protect(function(){n(r)},function(n){null!=n&&t.onNext(n)},t.onError)},t.onError,t.onCompleted))})},v.filter=function(n,r){return v.choose(function(r){return n(r)?r:null},r)},v.partition=function(n,r){return[v.filter(n,r),v.filter(function(r){return!n(r)},r)]},v.scan=function(n,r,t){return new m(function(e){return t.subscribe(new y(function(t){v.__protect(function(){n(r,t)},function(n){r=n,e.onNext(n)},e.onError)},e.onError,e.onCompleted))})},v.add=function(n,r){r.subscribe(new y(n))},v.subscribe=function(n,r){return r.subscribe(new y(n))},v.pairwise=function(n){return new m(function(r){var t=null;return n.subscribe(new y(function(n){null!=t&&r.onNext([t,n]),t=n},r.onError,r.onCompleted))})},v.merge=function(n,t){return new m(function(e){var o=!1,u=!1,i=!1,a=n.subscribe(new y(function(n){o||e.onNext(n)},function(n){o||(o=!0,e.onError(n))},function(){o||(u=!0,i&&(o=!0,e.onCompleted()))})),c=t.subscribe(new y(function(n){o||e.onNext(n)},function(n){o||(o=!0,e.onError(n))},function(){o||(i=!0,u&&(o=!0,e.onCompleted()))})),f={dispose:function(){a.dispose(),c.dispose()}};return f[r.interfaces]=["System.IDisposable"],f})},v.split=function(n,r){return[v.choose(function(r){var t=n(r);return"Choice1Of2"==t.Case?t.Fields[0]:null},r),v.choose(function(r){var t=n(r);return"Choice2Of2"==t.Case?t.Fields[0]:null},r)]}});